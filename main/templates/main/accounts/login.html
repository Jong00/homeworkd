{% extends "main/base.html" %}
{% load static %}

{% block title %}로그인{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'main/css/login.css' %}">

<div class="login-page">
  <div class="login-box">
    <h2>로그인</h2>

    {# 로그인 실패 시 에러 메시지 표시 (LoginView가 form을 넘겨줌) #}
    {% if form.errors %}
      <p style="color:red;">아이디 또는 비밀번호가 올바르지 않습니다.</p>
    {% endif %}

    {# Django가 읽을 수 있는 진짜 폼으로 변경 #}
    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}

      {# LoginView는 기본적으로 username/password를 기대함 #}
      <input type="text"
             name="username"
             class="login-input"
             placeholder="아이디"
             required>

      <input type="password"
             name="password"
             class="login-input"
             placeholder="비밀번호"
             required>

      <div class="login-links">
        <a href="#">아이디 찾기</a> |
        <a href="#">비밀번호 찾기</a> |
        <a href="{% url 'signup' %}">회원가입</a>
      </div>

      <button type="submit" class="login-submit">로그인</button>
    </form>
  </div>
</div>

{% endblock %}
